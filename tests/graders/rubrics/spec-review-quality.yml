# Spec Review Quality Rubric
# Used to evaluate spec-reviewer agent output quality
# (Beyond pass/fail - measures quality of feedback)

name: spec-review-quality
description: Evaluate the quality of spec review feedback
model: claude-sonnet
version: "1.0.0"

system_prompt: |
  You are evaluating a spec review generated by an AI agent.
  The review should correctly identify whether a spec is complete
  and provide actionable feedback for improvement.

criteria:
  - name: accuracy
    weight: 0.35
    description: "Correctly identifies spec completeness/incompleteness"
    scale:
      5: "Verdict is correct and well-justified"
      4: "Verdict is correct with minor reasoning gaps"
      3: "Verdict is correct but reasoning is weak"
      2: "Verdict is borderline or unclear"
      1: "Verdict is incorrect"

  - name: actionability
    weight: 0.30
    description: "Feedback is specific and actionable"
    scale:
      5: "Every piece of feedback has a clear action to take"
      4: "Most feedback is actionable"
      3: "Feedback is somewhat actionable"
      2: "Feedback is vague or unclear"
      1: "Feedback provides no clear direction"

  - name: completeness_of_review
    weight: 0.20
    description: "All sections of the spec are evaluated"
    scale:
      5: "Reviews all sections (Goal, Requirements, Constraints, Acceptance, Scope)"
      4: "Reviews most sections"
      3: "Reviews key sections but misses some"
      2: "Only reviews a few sections"
      1: "Superficial review missing most sections"

  - name: appropriate_strictness
    weight: 0.15
    description: "Neither too strict nor too lenient"
    scale:
      5: "Appropriate level of strictness for the spec type"
      4: "Slightly too strict or lenient but reasonable"
      3: "Noticeably too strict or lenient"
      2: "Significantly misaligned strictness"
      1: "Completely inappropriate strictness level"

passing_threshold: 3.5

output_format: |
  ```json
  {
    "scores": {
      "accuracy": <1-5>,
      "actionability": <1-5>,
      "completeness_of_review": <1-5>,
      "appropriate_strictness": <1-5>
    },
    "weighted_average": <float>,
    "pass": <true|false>,
    "reasoning": "<brief explanation>"
  }
  ```
